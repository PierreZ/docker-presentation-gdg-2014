<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Docker in Real Life</title>

	<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
	<meta name="author" content="Hakim El Hattab">

	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement( 'link' );
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<img src="http://slides.pierrezemb.fr/angularjs-bootcamp/img/finistgdg.png" style="width: 100px;float:right; height: auto; max-height: none; max-width: none; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0;margin-right:50px;margin-top:30px;">

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Docker in Real Life*</h1>
					<img class="image" src="http://i1.wp.com/finistjug.fr/wp-content/uploads/2015/02/logo-docker.png?w=584" style="width: 300px; height: auto; max-height: none; max-width: none; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background:none">
					<h3>* from a student</h3>

					<p>
						<small>Par <a href="https://pierrezemb.fr">Pierre Zemb</a> / <a href="http://twitter.com/PierreZ">@PierreZ</a></small>
					</p>
				</section>

				<section>
					<h2>+Me</h2>
					<div style="text-align=center;">
						<img class="image" src="https://pierrezemb.fr/img/myself.png" style="width: 270px; height: auto; max-height: none; max-width: none; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background:none">
					</div>
					<p>Pierre Zemb<br>
						Etudiant ingénieur à l'ISEN Brest
					</p>
					<p></p>
					<ul>
						<li>Ancien stagiaire/alternant Arkéa</li>
						<li>Futur stagiaire/alternant OVH</li>
					</ul>
					<p>
						<a href="https://pierrezemb.fr">https://pierrezemb.fr</a> <br> <a href="http://twitter.com/PierreZ">@PierreZ</a>
					</p>
				</section>

				<section>
					<h2>Le programme</h2>
					<ul>
						<li>Ma découverte de Docker</li>
						<li>Mon utilisation personnel de Docker</li>
						<li>L'utilisation de Docker dans le cadre d'un projet scolaire</li>
					</ul>
					<p>
						Slides dispo sur <a href="http://slides.pierrezemb.fr/">http://slides.pierrezemb.fr/</a>
					</p>
				</section>


				<section>
					<h4>Tout a commencé ici !</h4>
					<img class="image" src="https://pbs.twimg.com/media/BniBdLkIMAAA5lD.jpg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>Mon sentiment après</h4>
					<img class="image" src="http://i.imgur.com/Y4D7OCk.jpg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<!-- Première partie ! -->

				<section>
					<h4>L'équipe Sysadmin</h4>
					<img class="image" src="http://img.pandawhale.com/50190-Have-you-tried-turning-it-off-HfqE.jpeg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>1ère réponse</h4>

					<img src="https://i.imgflip.com/ho67y.jpg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>Les conteneurs ne sont pas nouveaux !</h4>
					<ul>
						<li>2000: BSD Jails</li>
						<li>2004: Solaris Zones</li>
						<li>2008: LXC (Linux Containers)</li>
						<li>20 mars 2013: Docker</li>
					</ul>
					<p><a href="https://intel.lanyonevents.com/sf14/connect/fileDownload/session/1217AA64FB39EFDFFBA72FEA94ECD26E/SF14_DATS004_100p%20NEW.pdf">Bare-metal, Docker Containers, and Virtualization: The Growing Choices for Cloud Applications</a></p>
				</section>

				<section>
					<h4>Qu'apporte Docker ?</h4>
					<ul>
						<li>Simplicité d'utilisation</li>
						<li>Construction d'une image à partir d'un DockerFile</li>
						<li>Un registry pour ses images</li>
						<li>API REST</li>
						<li>...</li>
					</ul>
				</section>

				<!-- Fin première question ! -->

				<!-- Deuxième question ! -->
				<section>
					<h4>Retour à l'équipe Sysadmin</h4>
					<img class="image" src="http://img.pandawhale.com/50190-Have-you-tried-turning-it-off-HfqE.jpeg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>2ème réponse</h4>
					<img class="image" src="https://i.imgflip.com/hojgo.jpg" style="width:500px" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>DevOps: côté développeur</h4>
					<p>Le conteneur utilisé en développement aura le même comportement qu'en production !</p>
					<img class="image" src="img/devops.png" style="width: 700px; height: auto; max-height: none; max-width: none; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background:none"/>
					<p><small><a href="http://www.commitstrip.com/fr/2015/02/02/is-your-company-ready-for-devops/">Comment savoir si votre entreprise est DevOps</a></small></p>
				</section>

				<section>
					<h4>DevOps: côté Ops</h4>
					<p>Accéléreration du déploiement des applications</p>
					<img class="image" src="img/devops2.png" style="width: 700px; height: auto; max-height: none; max-width: none; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background:none"/>
					<p><small><a href="http://www.commitstrip.com/fr/2015/02/02/is-your-company-ready-for-devops/">Comment savoir si votre entreprise est DevOps</a></small></p>
				</section>

				<section>
					<h4>La condition</h4>
					<img src="https://lh4.googleusercontent.com/-X1VVNh7EDRM/VIck4odR7yI/AAAAAAAAA9w/pOd7adeT0E8/w600-h282-no/micro-service-architecture.png">
				</section>


				<!-- Fin Deuxième question  ! -->

				<!-- Troisème question ! -->
				<section>
					<h4>Retour à l'équipe Sysadmin</h4>
					<img class="image" src="http://img.pandawhale.com/50190-Have-you-tried-turning-it-off-HfqE.jpeg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>3ème réponse</h4>
					<img class="image" src="http://cdn.meme.am/instances/53646903.jpg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>Les défauts de Docker: La sécurité</h4>

					<p>Beaucoup de travail a été fait, il en reste encore...</p>
					<p>Il existe des failles au niveau:</p>					
					<ul>
						<li>de Docker lui-même</li>
						<li>du noyau</li>
					</ul>
				</section>

				<section>
					<h3>Les défauts de Docker: le changement de cap</h4>
					<p>Au départ: <a href="https://github.com/docker/docker/commit/0db56e6c519b19ec16c6fbd12e3cee7dfa6018c5">Added 'Standard Container manifesto' to README</a></p>
					<p>A l'arrivée: <a href="https://github.com/docker/docker/commit/eed00a4afd1e8e8e35f8ca640c94d9c9e9babaf7">remove original shipping containers 'manifesto'</a></p>
					<p>Projet à regarder de près: <a href="https://coreos.com/blog/rocket/">CoreOS+Rocket</a></p>


				</section>

				<section>
					<h4>Les défauts de Docker: son monolithisme</h4>
					<p>Un seul binaire client/serveur gère à lui tout seul:</p>
						<ul>
							<li>La construction des images</li>
							<li>La récupération des images</li>
							<li>La gestions des volumes</li>
							<li>La construction des sous-couches du FileSystem</li>
							<li>L'isolation des process</li>
							<li>La surcouche réseau (NAT, proxy réseau)</li>
							<li>...</li>
						</ul>
				</section>

				<section>
					<h4>Les défauts de Docker: le réseau</p>
					<img src="https://i.imgur.com/I15a34L.gif" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background:none">
					<p>Doc de Docker: <a href="https://docs.docker.com/articles/networking/">Network Configuration</a></p>
				</section>
				<!-- Fin troisème question ! -->

				<section>
					<h4>Résumé de la conversation</h4>
					<p>Avantages de Docker:</p>
					<ul>
						<li>Une approche plus souple</li>
						<li>Un moyen de communication entre Dev et Ops</li>
						<li>Modernisation des LXC</li>
						<li>Permet d'éviter des produits Windows</li>
					</ul>
				</section>

				<section>
					<h4>Résumé de la conversation</h4>
					<p>Quelques petits points noirs à savoir:</p>
					<ul>
						<li>Le binaire Docker</li>
						<li>Gestion du réseau</li>
						<li>Boot2docker</li>
					</ul>
				</section>

				<section>
					<h4>La conséquence</h4>
					<img class="image" src="http://blog.docker.com/media/metrics_graphic_3.jpg" title="made at imgflip.com"/>
				</section>

				<section>
					<h4>La conséquence</h4>
					<img class="image" src="img/community.png" style="width: 900px; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
					<p><small>From <a href="http://fr.slideshare.net/dotCloud/docker-con-keynote-v11-1">DockerCon's Keynote</a></small></p>
				</section>

				<section>
					<h4>La conséquence</h4>
					<p>Docker sur Windows</p>
					<img src="https://i.imgflip.com/hoc26.jpg" title="made at imgflip.com" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
					<p><small><a href="http://azure.microsoft.com/blog/tag/docker/">Docker on Microsoft Cloud Plateform</a></small></p>
				</section>

				<section>
					<h2>Mon utilisation de Docker</h2>
					<img src="https://i.imgur.com/EDRfWFj.gif" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>Mon utilisation de Docker : serveur OVH</h4>
					<p>Un conteneur par application</p>
					<ul>
						<li>Nginx en frontal de mes conteneurs</li>
						<li>Un conteneur par application</li>
						<ul>
							<li>OpenVPN</li>
							<li>Shout (client IRC)</li>
							<li>Ghost</li>
							<li>Cadvisor</li>				
						</ul>

					</ul>
				</section>
				<section>
					<h4>Mon utilisation de Docker: Raspberry Pi</h4>
					<p>Plateforme de test:</p>
					<ul>
						<li>Serveur Web</li>
						<li>Systèmes distribués en Go</li>
						<li>Hadoop</li>
						<li>OpenVPN</li>
					</ul>
				</section>

				<section>
					<h4>Mon utilisation de Docker: Quelle image choisir ?</h4>
					<p><a href="https://github.com/phusion/baseimage-docker">base-image pour docker</a></p>
					<p>Avantages:</p>
					<ul>
						<li>Un processus d'initialisation correct</li>
						<li>Problème avec APT résolu</li>
						<li>syslog-ng/log rotate</li>
						<li>Possibilité de SSH</li>
					</ul>
				</section>

				<section>
					<h4>Mon utilisation de Docker: Systemd en orchestrateur</h4>
					<p style="text-align:left">vim /etc/systemd/dockerat.service</p>
					<pre><code data-trim>
[Unit]
Description=%i service in a docker
After=docker.service
Requires=docker.service

[Service]
Restart=always
ExecStart=/usr/bin/docker start -a %i
ExecStop=/usr/bin/docker stop -t 2 %i

[Install]
WantedBy=local.target
					</code></pre>
					<pre><code data-trim>
systemctl enable docker@nom_de_mon_super_conteneur
					</code></pre>
					<p><small>By <a href="http://thibautcharles.net/">Thibaut Charles</a></small></p>
				</section>

				<section>
					<h4>Mon utilisation de Docker: la gestion des logs</h4>

					<pre><code data-trim>
docker run -v /var/log/nom_de_mon_super_conteneur:/var/log
					</code></pre>
				</section>

				<section>
					<h4>Mon utilisation de Docker: un exemple</h4>
					<img src="img/elementz.png" style="width:500px; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>Mon utilisation de Docker: un exemple</h4>
					<p>Backend REST écrit en Go</p>
					<ul>
						<li>GET sur / renvoie le top 5 des scores</li>
						<li>POST sur / envoie un score</li>
					</ul>
					<p><a href="https://github.com/PierreZ/ElementZ-server">Le tout en moins de 79 lignes</a></p>
				</section>

				<section>
					<h4>Mon utilisation de Docker: un exemple</h4>
					<pre><code data-trim>
FROM golang
MAINTAINER PierreZ

ADD . /go/src/github.com/pierrez/ElementZ-server

RUN go get github.com/martini-contrib/binding
RUN go get github.com/go-martini/martini
RUN go install github.com/github.com/pierrez/ElementZ-server

ENTRYPOINT /go/bin/ElementZ-server

EXPOSE 3000
					</code></pre>
				</section>

				<section>
					<h4>Mon utilisation de Docker: un exemple</h4>
					<pre><code data-trim>
#!/bin/bash

set -e;

docker build -t elementz_image .;

docker run -d -p 3000:3000 --name elementz elementz_image;
					</code></pre>
				</section>

				<section>
					<h4>Mon utilisation de Docker: un exemple</h4>
					<p>Résultat du GET sur /</p>
					<iframe style="background-color:white" src="http://elementz.pierrezemb.fr"></iframe>
				</section>

				<section>
					<h2>Projet scolaire: SeaTestBase</h2>
					<img src="img/india.gif" style="width:500px; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>SeaTestBase</h4>
					<img src="img/seatestbase.png" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
				</section>

				<section>
					<h4>Actuellement</h4>
					<img src="https://www.ovh.com/tn/images/newsletter/soyoustart/08-2014/logo-sys.jpg" style="border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#F0F0F0"/>
					<p>Serveur OVH (SoYouStart) avec:</p>
					<ul>
						<li>Joomla</li>
						<li>Zabbix</li>
						<li>ERP</li>
						<li>Différents projets scolaires Web</li>
					</ul>
				</section>

				<section>
					<h4>(Très) prochainement</h4>
					<img class="image" src="img/runabove.png" style="width: 100px;height: auto; max-height: none; max-width: none; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#222222">
					<p>Serveur RunAbove</p>
					<ul>
						<li>Remplacement de Joomla par WordPress</li>
						<li>Remplacement de Zabbix par InfluxDB</li>
						<li>Migration de l'ERP</li>
						<li>Déplacement des sites statiques sur l'Object Storage de RunAbove</li>
						<li>Ajout d'ElasticSearch</li>
					</ul>

				</section>

				<section>
					<h4>La simplicité de Docker</h4>
					<p>Besoin d'une image pour InfluxDB ?</p>
					<img src="img/influxdb.png">
				</section>

				<section>
					<h4>La simplicité de Docker</h4>
					<p>Besoin d'une image pour InfluxDB ?</p>
					<img src="img/influxdb2.png">
				</section>

				<section>
					<h4>La simplicité de Docker</h4>
					<p>Besoin d'une image pour InfluxDB ?</p>
					<img src="img/influxdb3.png">
				</section>

				<section>
					<img class="image" src="https://pierrezemb.fr/img/myself.png" style="width: 270px; height: auto; max-height: none; max-width: none; border: none;-moz-box-shadow:none;-webkit-box-shadow:none;background:none">
					<h2>Merci de votre attention !</h2>
					<p>Avez-vous des questions ?</p>
					<p>
						Slides dispo sur <a href="http://slides.pierrezemb.fr/">http://slides.pierrezemb.fr/</a>
					</p>
				</section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				slideNumber: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
				{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true },
				{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
	</html>
